@using Microsoft.AspNetCore.Authorization
@using SSRBusiness.Entities
@using MudBlazor
@attribute [Authorize]

<MudCard Elevation="0">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">Acquisition Notes</MudText>
        </CardHeaderContent>
        <CardHeaderActions>
            <MudButton StartIcon="@Icons.Material.Filled.Add" Variant="Variant.Filled" Color="Color.Primary" OnClick="AddNote">Add Note</MudButton>
        </CardHeaderActions>
    </MudCardHeader>
    <MudCardContent>
        <MudAlert Severity="Severity.Info">Note functionality coming soon.</MudAlert>
        
        @* Placeholder for Notes List *@
        <MudTable Items="_notes" Dense="true" Hover="true">
            <HeaderContent>
                <MudTh>Date</MudTh>
                <MudTh>User</MudTh>
                <MudTh>Note</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd>@context.NoteDate</MudTd>
                <MudTd>@context.UserName</MudTd>
                <MudTd>@context.NoteText</MudTd>
            </RowTemplate>
            <PagerContent>
                <MudTablePager />
            </PagerContent>
        </MudTable>
    </MudCardContent>
</MudCard>

@code {
    [Parameter] public int AcquisitionId { get; set; }

    // Placeholder model
    private class NoteModel 
    {
        public DateTime NoteDate { get; set; }
        public string UserName { get; set; } = "";
        public string NoteText { get; set; } = "";
    }

    private List<NoteModel> _notes = new();

    private void AddNote()
    {
        // TODO: Implement Add Note Dialog
    }
}
